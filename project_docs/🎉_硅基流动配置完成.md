# ğŸ‰ ç¡…åŸºæµåŠ¨é…ç½®å®Œæˆï¼

## âœ… é—®é¢˜è§£å†³

### æ ¹æœ¬åŸå› 
- **moltbot é»˜è®¤ä½¿ç”¨ `openai-responses` API**ï¼ˆè°ƒç”¨ `/v1/responses` ç«¯ç‚¹ï¼‰
- **ç¡…åŸºæµåŠ¨ä¸æ”¯æŒ Responses API**ï¼Œè¿”å› 404 Not Found
- ç¡…åŸºæµåŠ¨åªæ”¯æŒæ ‡å‡†çš„ **OpenAI Chat Completions API**ï¼ˆ`/v1/chat/completions`ï¼‰

### è§£å†³æ–¹æ¡ˆ
æ›´æ”¹é…ç½®ä½¿ç”¨ `openai-completions` APIï¼Œè¿™æ˜¯æ ‡å‡†çš„ OpenAI Chat Completions ç«¯ç‚¹ã€‚

---

## ğŸ“‹ å½“å‰é…ç½®

### 1. Provider åç§°
- âœ… **Provider**: `siliconflow` ï¼ˆç¡…åŸºæµåŠ¨ï¼‰
- âœ… **Model**: `deepseek-ai/DeepSeek-V3`
- âœ… **API**: `openai-completions` ï¼ˆChat Completions APIï¼‰

### 2. é…ç½®æ–‡ä»¶ (`~/.clawdbot/moltbot.json`)

```json
{
  "agents": {
    "defaults": {
      "model": {
        "primary": "siliconflow/deepseek-ai/DeepSeek-V3"
      },
      "models": {
        "siliconflow/deepseek-ai/DeepSeek-V3": {}
      }
    }
  },
  "models": {
    "providers": {
      "siliconflow": {
        "baseUrl": "https://api.siliconflow.cn/v1",
        "apiKey": "${OPENAI_API_KEY}",
        "api": "openai-completions",
        "models": [
          {
            "id": "deepseek-ai/DeepSeek-V3",
            "name": "DeepSeek V3 (ç¡…åŸºæµåŠ¨)",
            "api": "openai-completions",
            "reasoning": false,
            "input": ["text"],
            "cost": {
              "input": 0,
              "output": 0,
              "cacheRead": 0,
              "cacheWrite": 0
            },
            "contextWindow": 128000,
            "maxTokens": 8192
          }
        ]
      }
    }
  }
}
```

### 3. ç¯å¢ƒå˜é‡ (`~/.clawdbot/.env`)

```bash
OPENAI_API_KEY=sk-fymrvjkuzxgqxmzctrbhwitoapmefcjnmabsgrogpqvwqbyd
```

---

## ğŸ¯ Onboard é…ç½®

### åœ¨ `src/commands/auth-choice-options.ts` ä¸­

```typescript
{
  value: "siliconflow",
  label: "SiliconFlow (ç¡…åŸºæµåŠ¨)",
  hint: "API key (å¤šæ¨¡å‹æ”¯æŒ)",
  choices: ["openai-api-key"],
}
```

### å·¥ä½œæµç¨‹
1. ç”¨æˆ·åœ¨ onboarding æ—¶é€‰æ‹© "SiliconFlow (ç¡…åŸºæµåŠ¨)"
2. ç³»ç»Ÿæç¤ºè¾“å…¥ `openai-api-key` ï¼ˆå®é™…ä¸Šæ˜¯ç¡…åŸºæµåŠ¨çš„ API Keyï¼‰
3. API Key å­˜å‚¨åœ¨ `~/.clawdbot/.env` ä¸­ä½œä¸º `OPENAI_API_KEY`
4. **éœ€è¦ç¡®è®¤**ï¼šé…ç½®æ˜¯å¦è‡ªåŠ¨ç”Ÿæˆ `models.providers.siliconflow` éƒ¨åˆ†

---

## âš ï¸ å¾…ç¡®è®¤äº‹é¡¹

### Onboard æµç¨‹éœ€è¦éªŒè¯çš„é—®é¢˜ï¼š

1. **Provider æ˜ å°„**ï¼š
   - å½“ç”¨æˆ·é€‰æ‹© `siliconflow` auth group æ—¶
   - ç³»ç»Ÿæ˜¯å¦ä¼šè‡ªåŠ¨åˆ›å»º `models.providers.siliconflow` é…ç½®ï¼Ÿ
   - è¿˜æ˜¯éœ€è¦æ‰‹åŠ¨é…ç½®ï¼Ÿ

2. **API ç±»å‹**ï¼š
   - ç³»ç»Ÿé»˜è®¤å¯èƒ½è¿˜æ˜¯ä½¿ç”¨ `openai-responses`
   - éœ€è¦ç¡®ä¿ onboard æµç¨‹ä¸­ä¸ºç¡…åŸºæµåŠ¨è®¾ç½® `api: "openai-completions"`

3. **BaseURL**ï¼š
   - Onboard æµç¨‹æ˜¯å¦ä¼šè‡ªåŠ¨è®¾ç½® `baseUrl: "https://api.siliconflow.cn/v1"`ï¼Ÿ

---

## ğŸ”§ å¯èƒ½éœ€è¦çš„ä¿®æ”¹

### é€‰é¡¹ 1ï¼šåœ¨ onboard æµç¨‹ä¸­æ·»åŠ ç¡…åŸºæµåŠ¨çš„ç‰¹æ®Šå¤„ç†

éœ€è¦åœ¨ onboard ä»£ç ä¸­æ£€æµ‹åˆ° `authGroupId === "siliconflow"` æ—¶ï¼š
- è‡ªåŠ¨è®¾ç½® `models.providers.siliconflow.api = "openai-completions"`
- è‡ªåŠ¨è®¾ç½® `models.providers.siliconflow.baseUrl = "https://api.siliconflow.cn/v1"`

### é€‰é¡¹ 2ï¼šè®©ç”¨æˆ·æ‰‹åŠ¨é…ç½®

ä¿æŒå½“å‰çŠ¶æ€ï¼Œç”¨æˆ·éœ€è¦æ‰‹åŠ¨ç¼–è¾‘ `~/.clawdbot/moltbot.json` æ·»åŠ ï¼š
- `models.providers.siliconflow` é…ç½®
- æŒ‡å®š `api: "openai-completions"`

---

## ğŸ“ ä¸‹ä¸€æ­¥

1. æµ‹è¯• onboard æµç¨‹ï¼š`pnpm wukongbot onboard --reset`
2. é€‰æ‹© "SiliconFlow (ç¡…åŸºæµåŠ¨)"
3. è¾“å…¥ API Key
4. æ£€æŸ¥ç”Ÿæˆçš„é…ç½®æ–‡ä»¶
5. éªŒè¯æ˜¯å¦èƒ½æ­£å¸¸å¯¹è¯

å¦‚æœ onboard åé…ç½®ä¸å®Œæ•´ï¼Œéœ€è¦ä¿®æ”¹ onboard ä»£ç ä»¥è‡ªåŠ¨ç”Ÿæˆæ­£ç¡®çš„ç¡…åŸºæµåŠ¨é…ç½®ã€‚
